<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Método getClientConnectionID (SQLServerConnection)</title><meta name="Language" content="es-es" /><meta name="Microsoft.Help.Id" content="bee39c11-733a-461f-92cc-33efcb2af87d" /><meta name="Description" content="Obtiene el identificador de conexión del intento de conexión más reciente, independientemente de que dicho intento fuera correcto o erróneo." /><meta name="Microsoft.Help.ContentType" content="Reference" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Método getClientConnectionID (SQLServerConnection)</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Obtiene el identificador de conexión del intento de conexión más reciente, independientemente de que dicho intento fuera correcto o erróneo.</p></div><h1 class="heading">Sintaxis</h1><div id="syntaxSection" class="section"><div class="sampleCode"><span codeLanguage="VisualBasic"><pre>public Java.util.UUID SQLServerConnection.getClientConnectionID();</pre></span></div></div><h1 class="heading">Valor devuelto</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>GUID de 16 bytes que representa el identificador de conexión del intento de conexión más reciente. O NULL si hay un error después de que se inicie la solicitud de conexión y el protocolo de enlace previo al inicio de sesión.</p></div><h1 class="heading">Excepciones</h1><div id="ddueExceptionsSection" class="section" name="collapseableSection" style=""><p><a href="af5ef257-7cf6-4db3-b1ee-07d22d82bef1.htm">SQLServerException</a></p></div><h1 class="heading">Comentarios</h1><div id="languageReferenceRemarksSection" class="section" name="collapseableSection" style=""><p>Para obtener más información acerca del acceso a la información de diagnóstico en el registro de eventos extendidos, vea <span sdata="link"><a href="a79e9468-2257-4536-91f1-73b008c376c3.htm">Tener acceso a información de diagnóstico en el registro de eventos extendidos</a></span>.</p><p>En el siguiente ejemplo se muestra cómo obtener el identificador de conexión:</p><div class="sampleCode"><span codeLanguage="other"><pre>Connection con = DriverManager.getConnection(connectionUrl);
UUID id = ((ISQLServerConnection)con).getClientConnectionId();</pre></span></div><p>En el siguiente ejemplo se muestra otra forma de obtener el identificador de conexión:</p><div class="sampleCode"><span codeLanguage="other"><pre>SQLServerConnectionPoolDataSource ds = new SQLServerConnectionPoolDataSource();
ds.setUser("…");
ds.setPassword("…");
ds.setServerName("…");
PooledConnection pcon= ds.getPooledConnection();
Connection cn = pcon.getConnection();
UUID conid = ((ISQLServerConnection)cn).getClientConnectionId();</pre></span></div><p><span sdata="langKeyword" value="getClientConnectionID"><span class="keyword">getClientConnectionID</span></span> funciona independientemente de la versión del servidor al que esté conectado, pero los registros de eventos extendidos y la entrada sobre errores de búfer de anillo de conectividad no estarán presentes en SQL Server 2008 R2 y anterior.</p><p>Puede buscar el identificador de conexión en el registro de eventos extendidos para comprobar si el error se encontraba en el servidor si está habilitado el evento extendido para el registro del identificador de conexión. También puede buscar el identificador de conexión en el búfer de anillo de conexión (<a href="http://go.microsoft.com/fwlink/?LinkId=207752">Solución de problemas de conectividad en SQL Server 2008 con el búfer de anillo de conectividad</a>) para determinados errores de conexión. Si el identificador de conexión no se encuentra en el búfer de anillo de conexión, se puede suponer que hay un error de red.</p></div><span id="seeAlsoSpan"><h1 class="heading">Vea también</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="937292a6-1525-423e-a2b2-a18fd34c2893.htm">Clase SQLServerConnection</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="3115a533-756b-4c78-aee9-4ba7253c85e0.htm">Miembros SQLServerConnection</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Enviar <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dLe%20agradecemos%20sus%20comentarios.%20Los%20equipos%20de%20desarrolladores%20usan%20estos%20comentarios%20para%20mejorar%20la%20documentación.%20Mientras%20revisamos%20los%20comentarios,%20es%20posible%20que%20le%20enviemos%20un%20correo%20electrónico%20para%20solicitarle%20alguna%20aclaración%20o%20comentarios%20sobre%20una%20posible%20solución.%20No%20usamos%20su%20dirección%20de%20correo%20electrónico%20para%20ningún%20otro%20propósito%20y%20ésta%20se%20borra%20una%20vez%20finalizada%20la%20revisió.%0\APara%20obtener%20más%20información%20acerca%20de%20las%20directivas%20de%20privacidad%20de%20Microsoft,%20vea%20http://privacy.microsoft.com/es-es/default.aspx.%0\A%0\d','Comentarios%20del cliente');">comentarios de </a> acerca de este tema Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Todos los derechos reservados.</a></p></span></div></div></body></html>