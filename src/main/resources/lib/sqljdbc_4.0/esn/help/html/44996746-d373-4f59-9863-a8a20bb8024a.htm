<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Generar URL de conexión</title><meta name="Language" content="es-es" /><meta name="System.Keywords" content="URL de conexión" /><meta name="Microsoft.Help.Id" content="44996746-d373-4f59-9863-a8a20bb8024a" /><meta name="Description" content="El formato general de la URL de conexión es" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Generar URL de conexión</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>El formato general de la URL de conexión es</p><p><span class="code">jdbc:sqlserver://[serverName[\instanceName][:portNumber]][;property=value[;property=value]]</span></p><p>donde: </p><ul><li><p><span class="label">jdbc:sqlserver://</span> (obligatorio) es el subprotocolo y es constante. </p></li><li><p><span class="label">serverName</span> (opcional) es la dirección del servidor con el que se establece la conexión. Puede ser un DNS o una dirección IP o bien un host local o 127.0.0.1 para el equipo local. Si no se especifica en la URL de conexión, es necesario especificar el nombre del servidor en la colección de propiedades.</p></li><li><p><span class="label">instanceName</span> (opcional) es la instancia para establecer la conexión con serverName. Si no se especifica, se establece una conexión con la instancia predeterminada.</p></li><li><p><span class="label">portNumber</span> (opcional) es el puerto para establecer la conexión con serverName. El valor predeterminado es 1433. Si usa el valor predeterminado, no es necesario especificar el puerto ni el signo ":" precedente en la dirección URL.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Para obtener un rendimiento óptimo de la conexión, debe establecer portNumber al conectar con una instancia con nombre. De este modo se evita un ciclo de ida y vuelta en el servidor para determinar el número de puerto. Si se usan portNumber e instanceName, portNumber tiene prioridad e instanceName se omite.</p></div></li><li><p><span class="label">property</span> (opcional) es una o más propiedades de conexión de la opción. Para obtener más información, vea <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Establecer las propiedades de conexión</a></span>. Se puede especificar cualquier propiedad de la lista. Las propiedades solo se pueden delimitar mediante punto y coma (";") y no se pueden duplicar. </p></li></ul><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Por motivos de seguridad, debe evitar la generación de direcciones URL de conexión basadas en la entrada del usuario. Debe especificar solo el nombre del servidor y el controlador de la URL. Para los valores de nombre y contraseña, utilice las colecciones de propiedades de conexión. Para obtener más información acerca de la seguridad de las aplicaciones JDBC, consulte <span sdata="link"><a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Proteger las aplicaciones del controlador JDBC</a></span>.</p></div></div><h1 class="heading">Ejemplos de conexión</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Conexión a la base de datos predeterminada del equipo local con un nombre de usuario y una contraseña:</p><p><span class="code">jdbc:sqlserver://localhost;user=MyUserName;password=*****;</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Aunque en el ejemplo anterior se usan un nombre de usuario y una contraseña en la cadena de conexión, si ejecuta la aplicación en un sistema operativo Windows, debe usar la seguridad integrada dado que resulta más seguro. Para obtener más información, consulte la sección sobre <a href="#Connectingintegrated">conexión con la autenticación integrada</a> más adelante en este tema.</p></div><p>Conexión con la base de datos predeterminada del equipo local con autenticación integrada:</p><p><span class="code">jdbc:sqlserver://localhost;integratedSecurity=true;</span></p><p>Conexión a la base de datos con nombre de un servidor remoto:</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Conexión en el puerto predeterminado con el servidor remoto:</p><p><span class="code">jdbc:sqlserver://localhost:1433;databaseName=AdventureWorks;integratedSecurity=true;</span></p><p>Conectar mediante la especificación de un nombre de aplicación personalizada:</p><p><span class="code">jdbc:sqlserver://localhost;databaseName=AdventureWorks;integratedSecurity=true;applicationName=MyApp;</span></p></div><h1 class="heading">Instancias de SQL múltiples y con nombre</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>SQL Server permite la instalación de varias instancias de base de datos por servidor. Cada instancia se identifica con un nombre concreto. Para conectarse a una instancia con nombre de SQL Server, puede especificar el número de puerto de la instancia con nombre (opción preferida) o bien el nombre de instancia como propiedad de URL de JDBC o propiedad <span class="label">datasource</span>. Si no se especifica ningún nombre de instancia o propiedad de número de puerto, se crea una conexión a la instancia predeterminada. Vea los ejemplos siguientes:</p><p>Para usar un número de puerto, haga lo siguiente:</p><p><span class="code">jdbc:sqlserver://localhost:1433;integratedSecurity=true;&lt;more properties as required&gt;;</span></p><p>Para usar una propiedad URL de JDBC, haga lo siguiente:</p><p><span class="code">jdbc:sqlserver://localhost;instanceName=instance1;integratedSecurity=true;&lt;more properties as required&gt;;</span></p></div><h1 class="heading">Escape de valores en la URL de conexión</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>Puede que tenga que aplicar un escape a determinadas partes de los valores URL de conexión debido a la inclusión de caracteres especiales como espacios, puntos y comas, y comillas. El controlador JDBC admite el escape de estos caracteres si se incluyen entre llaves. Por ejemplo, {;} aplica el escape al punto y coma.</p><p>Los valores de escape pueden contener caracteres especiales (sobre todo "=", ";", "[]'" y espacio), pero no pueden contener llaves. Los valores a los que se debe aplicar el escape y contengan llaves se deben agregar a la colección de propiedades.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>El espacio en blanco dentro de las llaves es literal y no se reduce.</p></div></div><a name="Connectingintegrated"> </a><h1 class="heading">Conexión con la autenticación integrada</h1><div id="sectionSection3" class="section" name="collapseableSection" style=""><p>Vea <span sdata="link"><a href="687802dc-042a-4363-89aa-741685d165b3.htm">Usar la autenticación integrada de Kerberos para conectar con SQL Server</a></span> para obtener una descripción de una característica agregada a Controlador Microsoft JDBC para SQL Server que también permite que una aplicación se conecte a una base de datos mediante autenticación integrada.</p><p>El controlador JDBC admite el uso de la autenticación integrada de tipo 2 en los sistemas operativos Windows mediante la propiedad de cadena de conexión integratedSecurity. Para usar la autenticación integrada, copie el archivo sqljdbc_auth.dll en un directorio de la ruta del sistema de Windows en que esté instalado el controlador JDBC. </p><p>Los archivos sqljdbc_auth.dll se instalan en la siguiente ubicación:</p><p>&lt;<span class="placeholder">installation directory</span>&gt;\sqljdbc_&lt;<span class="placeholder">version</span>&gt;\&lt;<span class="placeholder">language</span>&gt;\auth\</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Si está ejecutando una máquina virtual Java de (JVM, Java Virtual Machine) 32 bits, utilice el archivo sqljdbc_auth.dll en la carpeta x86, aun cuando la versión del sistema operativo sea la x64. Si está ejecutando una JVM de 64 bits en un procesador x64, utilice el archivo sqljdbc_auth.dll de la carpeta x64.</p></div><p>Alternativamente, puede especificar la propiedad del sistema java.libary.path para especificar el directorio de sqljdbc_auth.dll. Por ejemplo, si el controlador JDBC está instalado en el directorio predeterminado, puede especificar la ubicación de la DLL con el siguiente argumento de máquina virtual (VM) si la aplicación de Java se ha iniciado: </p><p><span class="code">-Djava.library.path=C:\Microsoft JDBC Driver 4.0 for SQL Server\sqljdbc_&lt;version&gt;\enu\auth\x86</span></p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>El controlador JDBC no admite la autenticación integrada cuando el controlador se ejecuta en sistemas operativos que no son de Windows. El controlador no proporciona funcionalidad para proporcionar las credenciales de autenticación de Windows, como el nombre de usuario y la contraseña al conectar con SQL desde sistemas operativos que no sean Windows. En tales casos, las aplicaciones deben usar la autenticación de SQL Server.</p></div></div><h1 class="heading">Conectar con direcciones IPv6</h1><div id="sectionSection4" class="section" name="collapseableSection" style=""><p>El controlador JDBC admite el uso de direcciones IPv6 con la colección de propiedades de conexión y con la propiedad de cadena de conexión serverName. El valor serverName inicial, como jdbc:<span class="placeholder">sqlserver</span>://<span class="placeholder">serverName</span>, no se admite para las direcciones IPv6 en las cadenas de conexión. El uso de un nombre para <span class="placeholder">serverName</span> en lugar de una dirección IPv6 sin formato funciona en todos los casos en la conexión. En los siguientes ejemplos se proporciona más información.</p><p><span class="label">Para usar la propiedad serverName</span></p><p><span class="code">jdbc:sqlserver://;serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1;integratedSecurity=true;</span></p><p><span class="label">Para usar la colección de propiedades</span></p><p><span class="code">Properties pro = new Properties();</span></p><p><span class="code">pro.setProperty("serverName", "serverName=3ffe:8311:eeee:f70f:0:5eae:10.203.31.9\\instance1");</span></p><p><span class="code">Connection con = DriverManager.getConnection("jdbc:sqlserver://;integratedSecurity=true;", pro);</span></p></div><span id="seeAlsoSpan"><h1 class="heading">Vea también</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="94bcfbe3-f00e-4774-bda8-bb7577518fec.htm">Conectar SQL Server con el controlador JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Enviar <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dLe%20agradecemos%20sus%20comentarios.%20Los%20equipos%20de%20desarrolladores%20usan%20estos%20comentarios%20para%20mejorar%20la%20documentación.%20Mientras%20revisamos%20los%20comentarios,%20es%20posible%20que%20le%20enviemos%20un%20correo%20electrónico%20para%20solicitarle%20alguna%20aclaración%20o%20comentarios%20sobre%20una%20posible%20solución.%20No%20usamos%20su%20dirección%20de%20correo%20electrónico%20para%20ningún%20otro%20propósito%20y%20ésta%20se%20borra%20una%20vez%20finalizada%20la%20revisió.%0\APara%20obtener%20más%20información%20acerca%20de%20las%20directivas%20de%20privacidad%20de%20Microsoft,%20vea%20http://privacy.microsoft.com/es-es/default.aspx.%0\A%0\d','Comentarios%20del cliente');">comentarios de </a> acerca de este tema Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Todos los derechos reservados.</a></p></span></div></div></body></html>